{–ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–æ–∫—Å–∏ –ë–î
VSP -> Local –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ë–î Postgres —á–µ—Ä–µ–∑ socat (PS –†–µ—à–µ–Ω–∏–µ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ, –ø–∏–Ω–≥ 900)

***VSP***
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª—É–∂–±—É –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ë–î
sudo apt install socat -y

–ó–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ —Å–ª—É–∂–±—É —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É (sudo socat TCP-LISTEN:55433,fork TCP:10.66.66.2:5432)

sudo nano /etc/systemd/system/pg-proxy.service

[Unit]
Description=PostgreSQL Proxy via socat
After=network.target
Wants=network-online.target

[Service]
Type=simple
ExecStart=/usr/bin/socat TCP-LISTEN:55433,fork TCP:10.66.66.2:5432
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target

–ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å

sudo systemctl daemon-reload
sudo systemctl enable --now pg-proxy
sudo systemctl status pg-proxy

***Local***
–ë–î map_db
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å map

–í postgresql.conf —Å—Ç–∞–≤–∏–º 
listen_addresses = '*'

–í pg_hba.conf –¥–æ–±–∞–≤–ª—è–µ–º 
host    all    all    89.110.95.46/32    md5

–ò –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
sudo systemctl restart postgresql

***–î–æ–ø –ø—Ä–æ–≤–µ—Ä–∫–∏***
–ü—Ä–æ–≤–µ—Ä–∫ –¥–æ—Å—Ç—É–ø–æ–Ω—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã VSP
nc -zv 10.66.66.2 5432

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã Local
ss -tulnp | grep 5432


VSP -> Local –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ë–î Postgres —á–µ—Ä–µ–∑ nginx (PS –¢–∞–∫–∂–µ –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –ø–æ—Ö—É–π, –æ—Å—Ç–∞–≤–ª—é –µ–≥–æ)

***VSP***
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π stream (—á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π PPA)
sudo apt update
sudo apt install curl gnupg2 ca-certificates lsb-release -y

# –î–æ–±–∞–≤–ª—è–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π nginx
echo "deb http://nginx.org/packages/ubuntu $(lsb_release -cs) nginx" | sudo tee /etc/apt/sources.list.d/nginx.list
curl -fsSL https://nginx.org/keys/nginx_signing.key | sudo gpg --dearmor -o /usr/share/keyrings/nginx-archive-keyring.gpg
sudo nano /etc/apt/sources.list.d/nginx.list - –ó–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞
deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] http://nginx.org/packages/ubuntu noble nginx
deb-src [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] http://nginx.org/packages/ubuntu noble nginx

sudo apt update
sudo apt install nginx -y
nginx -V 2>&1 | grep -o with-stream

sudo nano /etc/nginx/nginx.conf
stream {
    upstream pg_backend {
        server 10.66.66.2:5432;
    }

    server {
        listen 55433;
        proxy_pass pg_backend;

        #access_log /var/log/nginx/pg-stream-access.log;
        #error_log /var/log/nginx/pg-stream-error.log;
    }
}

sudo nginx -t
sudo systemctl restart nginx

***Local***
–¢–∞–∫–∂–µ –∫–∞–∫ –∏ –≤ –ø–µ—Ä–≤–æ–º –º–µ—Ç–æ–¥–µ
}

{–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ—Å—Ç–≥–∏—Å –¥–ª—è –ø–æ—Å—Ç–≥—Ä–µ
sudo apt-get install postgresql-14-postgis
map_db=# CREATE EXTENSION postgis;
}

{–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–µ–π –ë–î
–ò–º—è –ë–î map_db
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å map c –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º –ø–∞—Ä–æ–ª–µ–º
}

{–ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–æ–∫—Å–∏ –∫ —Å–∞–π—Ç—É —Å SSL —Å–µ—Ä—Ç–∞–º–∏

***–°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥ —Å–∞–π—Ç–∞ –≤ nginx***
sudo nano /etc/nginx/sites-available/dafomin.ru.conf

server {
    listen 80;
    listen [::]:80;
    server_name dafomin.ru www.dafomin.ru;

    location / {
        # –ó–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
    }
}

***–°–æ–∑–¥–∞–µ–º —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É –¥–ª—è sites-enabled*** (–£–∑–Ω–∞—Ç—å –∑–∞—á–µ–º)

sudo ln -s /etc/nginx/sites-available/dafomin.ru.conf /etc/nginx/sites-enabled/

***–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º***
sudo nginx -t && sudo systemctl reload nginx

***–ó–∞–ø—É—Å–∫ cerbot –¥–ª—è nginx –∏ –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –ø—É–Ω–∫—Ç–∞–º***

sudo certbot --nginx

***–ü–µ—Ä–µ–¥–µ–ª—ã–≤–∞–µ–º —á—Ç–æ cerbot –∑–∞–ø–∏—Å–∞–ª –≤ dafomin.ru.conf
sudo nano /etc/nginx/sites-available/dafomin.ru.conf

server {
    listen 80;
    listen [::]:80;
    server_name dafomin.ru www.dafomin.ru;

    # Redirect all HTTP traffic to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name dafomin.ru www.dafomin.ru;

    ssl_certificate /etc/letsencrypt/live/dafomin.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/dafomin.ru/privkey.pem;
    include /etc/letsencrypt/options-ssl-nginx.conf;
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;

    # Reverse proxy configuration
    location / {
        proxy_pass http://10.66.66.2:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Logging
    access_log /var/log/nginx/dafomin.ru-access.log;
    error_log /var/log/nginx/dafomin.ru-error.log;
}

***–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º***
sudo nginx -t && sudo systemctl reload nginx

}

{–ü–∞—Ä—Å–∏–º —Ñ–∞–π–ª –æ—Ç –Ω–µ–π—Ä–æ–Ω–∫–∏ –Ω–∞ –º–µ–ª–∫–∏–µ –ø—Ä–æ–≥–∏

	{manage.py
#–≠—Ç–æ —Å–µ—Ä–¥—Ü–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–∞—à–∏–º Django-–ø—Ä–æ–µ–∫—Ç–æ–º —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É.
#–ö–∞–∫ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?
#–í—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –µ–≥–æ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á, –Ω–∞–ø—Ä–∏–º–µ—Ä:
#    python manage.py runserver ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
#    python manage.py makemigrations ‚Äî —Å–æ–∑–¥–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
#    python manage.py migrate ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
#    python manage.py createsuperuser ‚Äî —Å–æ–∑–¥–∞–µ—Ç —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
}

	{settings.py
***–ù–∞–¥–æ –±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á SECRET_KEY***
#–í Bash
python
#–í Python
from django.core.management.utils import get_random_secret_key
get_random_secret_key()
*************************************************************************

***DEBUG*** #True –Ω–∞ –ø—Ä–æ–¥–µ —É–±—Ä–∞—Ç—å

***ALLOWED_HOSTS = []*** #–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—É—Å—Ç–æ, –Ω–∞ –ø—Ä–æ–¥–µ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω dafomin.ru –∏ www.dafomin.ru

INSTALLED_APPS = [ 
    'django.contrib.admin', # –í–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å Django, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
    'django.contrib.auth', # –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≥—Ä—É–ø–ø—ã –∏ —Å–∏—Å—Ç–µ–º—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.
    'django.contrib.contenttypes', # –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ.
    'django.contrib.sessions', # –í–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–µ—Å—Å–∏–π –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    'django.contrib.messages', # –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
    'django.contrib.staticfiles', # –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ (CSS, JavaScript, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).
    'django.contrib.gis', # –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç GeoDjango, –º–æ—â–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
    'map_app', # –í–∞—à–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É, –º–æ–¥–µ–ª–∏ –∏ —à–∞–±–ª–æ–Ω—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —Å –∫–∞—Ä—Ç–æ–π. –í—ã —Å–æ–∑–¥–∞–ª–∏ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã python manage.py startapp map_app ***–ì–î–ï –°–û–ó–î–ê–õ, –•–£–ô –ó–ù–ê–ï–¢***
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware', # –î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ HTTPS –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
    'django.contrib.sessions.middleware.SessionMiddleware', # –í–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–µ—Å—Å–∏–π, –ø–æ–∑–≤–æ–ª—è—è Django —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    'django.middleware.common.CommonMiddleware', # –í—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫—É URL (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–ª—ç—à–∞).
    'django.middleware.csrf.CsrfViewMiddleware', # –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –∞—Ç–∞–∫ –ø–æ–¥–¥–µ–ª–∫–∏ –º–µ–∂—Å–∞–π—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (CSRF) —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤.
    'django.contrib.auth.middleware.AuthenticationMiddleware', # –°–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –¥–µ–ª–∞—è `request.user` –¥–æ—Å—Ç—É–ø–Ω—ã–º.
    'django.contrib.messages.middleware.MessageMiddleware', # –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–í—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É") –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
    'django.middleware.clickjacking.XFrameOptionsMiddleware', # –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –∞—Ç–∞–∫ –∫–ª–∏–∫–¥–∂–µ–∫–∏–Ω–≥–∞, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ `<frame>` –∏–ª–∏ `<iframe>`.
]

ROOT_URLCONF = 'map.urls' #–ì–ª–∞–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—Ä–ª–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –¥–∂–∞–Ω–≥–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates', # –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π –¥–≤–∏–∂–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
        'DIRS': [os.path.join(BASE_DIR, 'templates')], # –£–∫–∞–∑—ã–≤–∞–µ—Ç Django, –≥–¥–µ –∏—Å–∫–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
        'APP_DIRS': True, # –ì–æ–≤–æ—Ä–∏—Ç Django –∏—Å–∫–∞—Ç—å –ø–∞–ø–∫—É 'templates' –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ INSTALLED_APPS.
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug', # –î–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞.
                'django.template.context_processors.request', # –î–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ ('request') –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤ —à–∞–±–ª–æ–Ω–µ.
                'django.contrib.auth.context_processors.auth', # –î–µ–ª–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≤ —à–∞–±–ª–æ–Ω–µ.
                'django.contrib.messages.context_processors.messages', # –î–µ–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≤ —à–∞–±–ª–æ–Ω–µ.
            ],
        },
    },
]

WSGI_APPLICATION = 'map.wsgi.application'  #–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≥–¥–µ Django –¥–æ–ª–∂–µ–Ω –∏—Å–∫–∞—Ç—å WSGI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.  WSGI (Web Server Gateway Interface) ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, Nginx, Gunicorn) –∏ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º Django, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã. 
#map.wsgi: –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ñ–∞–π–ª wsgi.py –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ map
#application: –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–∞–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é application, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è WSGI.

DATABASES = {
    'default': {
        'ENGINE': 'django.contrib.gis.db.backends.postgis', # –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–≤–∏–∂–∫–∞ PostGIS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
        'NAME': 'db_name', # –ò–º—è –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è.
        'USER': 'db_user', # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
        'PASSWORD': 'db_password', # –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å.
        'HOST': 'localhost', # –•–æ—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –û–±—ã—á–Ω–æ localhost –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.
        'PORT': '5432', # –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è PostgreSQL.
    }
}

#–í–∞–ª–∏–¥–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, –≤ —Ü–µ–ª–æ–º –æ–∫, –Ω–æ —Ö–∑, –Ω–∞–¥–æ –ª–∏ –º–Ω–µ.
AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]

#Internationalization
#–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —è–∑—ã–∫ –æ–±—â–µ–Ω–∏—è —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è —Ç–∞–∫, —á—Ç–æ–±—ã –±—ã–ª–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–µ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

LANGUAGE_CODE = 'ru-ru'
TIME_ZONE = 'UTC'
USE_I18N = True
USE_TZ = True

#–•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (CSS, JavaScript, Images)
STATIC_URL = 'static/'
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'static'),
]

#–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

}

	{urls.py
#–≠—Ç–æ—Ç –∫–æ–¥ ‚Äî —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ URL-–∞–¥—Ä–µ—Å–æ–≤ urls.py –¥–ª—è –≤–∞—à–µ–≥–æ Django-–ø—Ä–æ–µ–∫—Ç–∞. –û–Ω —Å–≤—è–∑—ã–≤–∞–µ—Ç URL-–∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç.
from django.contrib import admin
from django.urls import path, include
from map_app.views import map_page, map_api

urlpatterns = [
    path('admin/', admin.site.urls), # –ú–∞—Ä—à—Ä—É—Ç –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ Django.
    path('', map_page, name='map_page'),  # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–∞—Ä—Ç—É.
    path('api/map_objects/', map_api, name='map_api'), # API-–º–∞—Ä—à—Ä—É—Ç –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –æ–± –æ–±—ä–µ–∫—Ç–∞—Ö –Ω–∞ –∫–∞—Ä—Ç–µ.
]
}

	{models.py
from django.contrib.gis.db import models # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥–µ–ª–∏ GeoDjango, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.

class MapObject(models.Model):
    """
    –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ.
    """
    name = models.CharField(max_length=255, blank=True, null=True, verbose_name="–ù–∞–∑–≤–∞–Ω–∏–µ") # –ü–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.
    description = models.TextField(blank=True, null=True, verbose_name="–û–ø–∏—Å–∞–Ω–∏–µ") # –ü–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è.
    # –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ. GeometryField –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ª—é–±–æ–π —Ç–∏–ø –≥–µ–æ–º–µ—Ç—Ä–∏–∏.
    geometry = models.GeometryField(srid=4326, verbose_name="–ì–µ–æ–º–µ—Ç—Ä–∏—è") # –°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ, —Ö—Ä–∞–Ω–∏—Ç –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ—á–∫–∏, –ª–∏–Ω–∏–∏, –ø–æ–ª–∏–≥–æ–Ω—ã). srid=4326 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç WGS 84.
    photo_url = models.URLField(blank=True, null=True, verbose_name="URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏") # –ü–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é.

    def __str__(self):
        return self.name if self.name else f'–û–±—ä–µ–∫—Ç #{self.pk}' # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞, —á—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

    class Meta:
        verbose_name = "–û–±—ä–µ–∫—Ç –Ω–∞ –∫–∞—Ä—Ç–µ" # –ü–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.
        verbose_name_plural = "–û–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ" # –ü–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.
}

	{views.py
import json # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON-–¥–∞–Ω–Ω—ã–º–∏.
from django.shortcuts import render # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ HTML-—à–∞–±–ª–æ–Ω–æ–≤.
from django.http import JsonResponse # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è JSON-–æ—Ç–≤–µ—Ç–æ–≤.
from django.core.serializers import serialize # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ Django –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, GeoJSON).
from django.contrib.gis.geos import GEOSGeometry # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

from .models import MapObject # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à—É –º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞ –∫–∞—Ä—Ç–µ.

def map_page(request):
    """
    –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∫–∞—Ä—Ç–æ–π.
    """
    return render(request, 'map.html') # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞—Ä—Ç—É.

def map_api(request):
    """
    API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞ –∫–∞—Ä—Ç–µ.
    - GET: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ GeoJSON.
    - POST: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.
    """
    if request.method == 'GET':
        # –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç GeoJSON
        queryset = MapObject.objects.all() # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
        # use_natural_primary_keys=True
        geojson_data = serialize('geojson', queryset, geometry_field='geometry', fields=('name', 'description', 'photo_url')) # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—ä–µ–∫—Ç—ã –≤ GeoJSON.
        return JsonResponse(json.loads(geojson_data), safe=False) # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º GeoJSON –≤ –≤–∏–¥–µ JSON-–æ—Ç–≤–µ—Ç–∞.

    elif request.method == 'POST':
        try:
            # –ó–∞–≥—Ä—É–∂–∞–µ–º JSON-—Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
            data = json.loads(request.body.decode('utf-8')) # –ò–∑–≤–ª–µ–∫–∞–µ–º JSON-–¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞.
            
            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–∏–ø –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–µ–æ–º–µ—Ç—Ä–∏–∏
            geom_type = data['geometry']['type'] # –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø –≥–µ–æ–º–µ—Ç—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Point", "Polygon").
            coords = data['geometry']['coordinates'] # –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–µ–æ–º–µ—Ç—Ä–∏–∏.

            # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç GEOSGeometry
            # GeoJSON —Ñ–æ—Ä–º–∞—Ç.
            geom = GEOSGeometry(json.dumps({'type': geom_type, 'coordinates': coords})) # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
            
            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞
            properties = data.get('properties', {}) # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Ç.–¥.).
            name = properties.get('name', '–ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç')
            description = properties.get('description', '')
            photo_url = properties.get('photo_url', '')

            # –°–æ–∑–¥–∞–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
            new_object = MapObject.objects.create( # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
                name=name,
                description=description,
                geometry=geom,
                photo_url=photo_url
            )
            
            # –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç–≤–µ—Ç
            geojson_object = serialize('geojson', [new_object], geometry_field='geometry', fields=('name', 'description', 'photo_url')) # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ GeoJSON –¥–ª—è –æ—Ç–≤–µ—Ç–∞.
            return JsonResponse(json.loads(geojson_object), status=201) # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å –∫–æ–¥–æ–º 201 (Created).

        except (json.JSONDecodeError, KeyError) as e:
            return JsonResponse({'error': f'–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö: {e}'}, status=400) # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã.
    
    return JsonResponse({'error': '–ú–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è'}, status=405) # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π HTTP-–º–µ—Ç–æ–¥.

} #–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å–∫–æ–±–∫—É
}

	{map.html
#–≠—Ç–æ—Ç –∫–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π HTML-—à–∞–±–ª–æ–Ω –¥–ª—è –≤–∞—à–µ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π. üåê –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∏—Å–æ–≤–∞–Ω–∏—è.
	}

	{main.js
#–≠—Ç–æ—Ç –∫–æ–¥ ‚Äî —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ JavaScript. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Å—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –ª–æ–≥–∏–∫—É –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî –æ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –¥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Django API.
}

}